
## nadanie uprawnien uzytkownikowi 'ubuntu' do zapisu do katalogu

sudo chown -R ubuntu:ubuntu ~/procenty/services/web/obliczeniakredytowe/static/


####


ref . https://www.youtube.com/watch?v=z5XiVh6v4uI


I.

sudo nano /etc/systemd/system/flaskapp.service 

II.

[Unit]
Description=moja apka
After=network.target
[Service]
User=ubuntu
Group=www-data
WorkingDirectory=/home/ubuntu/procenty/services/web
ExecStart=/home/ubuntu/env/bin/gunicorn -b 0.0.0.0:8000 manage:app
Restart=always
[Install]
WantedBy=multi-user.target


III. Ctr+O (save), Ctr+X (exit)

IV.

sudo systemctl daemon-reload

sudo systemctl start flaskapp
sudo systemctl enable flaskapp


--------nginx---------------

I. install nginx 

sudo apt-get install nginx

II.

sudo nano /etc/nginx/sites-available/default

III. edit file

upstream myapp {
        server 127.0.0.1:8000;
}

server {
        listen 80 default_server;
        listen [::]:80 default_server;

.
.
.

location / {
    # First attempt to serve request as file, then
    # as directory, then fall back to displaying a 404.
    proxy_pass http://myapp;
}

.
.
.



II.

sudo systemctl start nginx

sudo systemctl enable nginx

IV. w razie potrzeby restartu

sudo systemctl restart nginx


"procapp.pem" ubuntu@ec2-3-93-97-242.compute-1.amazonaws.com