{% extends 'base.html' %}

{% block content %}

<div id="rys"></div>
        

  <script>



    var svg = d3.select("#rys")
    .append("svg")
    .attr("class", "svg-holder")
    .attr("width", width + margin.left + margin.right)
    .attr("height", height + margin.top + margin.bottom)
    .attr("style", "border:1px solid black;")
    .style('background', "white")
    .append("g")
    .attr("transform",
        "translate(" + margin.left + "," + margin.top + ")");

    svg.append('rect')
    .attr('class', 'jolo')
    .attr('width', '100%')
    .attr('height', '100%')
    .attr('fill', 'red')

    var xscale = d3.scaleTime().domain(d3.extent(tech_data, d => d.Data)).range([0, width]);

    function toDegrees (angle) {
        return angle * (180 / Math.PI);
    }

    function toRadians (angle) {
    return angle * (Math.PI / 180);
    }

    svg.selectAll('.kw')
    .data(tech_data).enter()
    .append('rect')
    .attr('class', 'kw')
    .attr('x', d => 100+xscale(d.Data)*Math.cos(toRadians(5*new Date(d.Data).getDay())) )
    .attr('y', d => 100+xscale(d.Data)*Math.sin(toRadians(5*new Date(d.Data).getDay())))
    .attr('width', '10')
    .attr('height', '10')
    .attr('fill', 'green')

    startg = svg.append('g').attr("transform",
        "translate(" + 80 + "," + 100 + ")");

    startg.selectAll('.circTem')
    .data([0,1,2,3,4,5,6])
    .enter()
    .append('circle')
    .attr('class', '.circTem')
    .attr('cx', d=> d*50)
    .attr('cy', 0)
    .attr('r', 10)
    .attr('stroke', "blue")
    .attr('stroke-width', 3)
    .attr('fill', "red")

    startg.selectAll('.circTem')
    .data([0,1,2,3,4,5,6])
    .enter()
    .append('circle')
    .attr('class', '.circTem')
    .attr('cx', d=> d*50)
    .attr('cy', 0)
    .attr('r', 5)
    .attr('fill', "green")

    




  </script>

{% endblock %}